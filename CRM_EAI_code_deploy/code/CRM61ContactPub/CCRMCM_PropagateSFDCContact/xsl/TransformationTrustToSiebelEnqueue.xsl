<?xml version="1.0" encoding="UTF-8" ?>
<?oracle-xsl-mapper
  <!-- SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY. -->
  <mapSources>
    <source type="XSD">
      <schema location="../xsd/EAI.MSG.SFDC.CM.402.TRUSTOutboundRequestAndResponse.xsd"/>
      <rootElement name="TRUSTOutboundContact" namespace="http://soap.sforce.com/schemas/class/ContactManagement"/>
    </source>
  </mapSources>
  <mapTargets>
    <target type="XSD">
      <schema location="../xsd/EAI.MSG.CCRM.CM.403.ListOfGenContactInterface_SiebelInbound.xsd"/>
      <rootElement name="ListOfGenContactInterface" namespace="http://www.siebel.com/xml/RCRMGenericContactInterface"/>
    </target>
  </mapTargets>
  <!-- GENERATED BY ORACLE XSL MAPPER 11.1.1.3.0(build 100415.2045.2557) AT [FRI FEB 03 10:44:50 IST 2012]. -->
?>
<xsl:stylesheet version="1.0"
                xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20"
                xmlns:bpws="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                xmlns:gcap-sa="http://www.reuters.com/ns/2007/09/01/GCAP/SchemaAnnotations"
                xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                xmlns:bpm="http://xmlns.oracle.com/bpmn20/extensions"
                xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
                xmlns:gcap-message="http://www.reuters.com/ns/2007/09/01/GCAP/CommonMessageTypes"
                xmlns:ns0="http://schemas.xmlsoap.org/wsdl/"
                xmlns:ora="http://schemas.oracle.com/xpath/extension"
                xmlns:socket="http://www.oracle.com/XSL/Transform/java/oracle.tip.adapter.socket.ProtocolTranslator"
                xmlns:mhdr="http://www.oracle.com/XSL/Transform/java/oracle.tip.mediator.service.common.functions.MediatorExtnFunction"
                xmlns:oraext="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc"
                xmlns:tns="http://soap.sforce.com/schemas/class/ContactManagement"
                xmlns:dvm="http://www.oracle.com/XSL/Transform/java/oracle.tip.dvm.LookupValue"
                xmlns:hwf="http://xmlns.oracle.com/bpel/workflow/xpath"
                xmlns:med="http://schemas.oracle.com/mediator/xpath"
                xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                xmlns:ids="http://xmlns.oracle.com/bpel/services/IdentityService/xpath"
                xmlns:gcap-opportunity="http://www.reuters.com/ns/2007/09/01/GCAP/CommonOpportunityTypes"
                xmlns:xdk="http://schemas.oracle.com/bpel/extension/xpath/function/xdk"
                xmlns:xref="http://www.oracle.com/XSL/Transform/java/oracle.tip.xref.xpath.XRefXPathFunctions"
                xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                xmlns:gcap-account="http://www.reuters.com/ns/2007/09/01/GCAP/CommonAccountTypes"
                xmlns:xsdLocal="http://www.siebel.com/xml/RCRMGenericContactInterface"
                xmlns:ldap="http://schemas.oracle.com/xpath/extension/ldap"
                exclude-result-prefixes="xsi xsl gcap-sa soap gcap-message ns0 tns gcap-opportunity xsd gcap-account xsdLocal xp20 bpws bpel bpm ora socket mhdr oraext dvm hwf med ids xdk xref ldap">
  <xsl:template match="/">
    <xsdLocal:ListOfGenContactInterface>
      <xsdLocal:ContactHeader>
        <xsdLocal:SourceSystem>
          <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:SourceSystem"/>
        </xsdLocal:SourceSystem>
        <xsdLocal:MessageId>
          <xsl:value-of select="/tns:TRUSTOutboundContact/tns:eaiHeader/gcap-message:tracingId"/>
        </xsdLocal:MessageId>
        <xsdLocal:LastUpdatedTimeStamp>
          <xsl:value-of select="/tns:TRUSTOutboundContact/tns:eaiHeader/gcap-message:timeStamp"/>
        </xsdLocal:LastUpdatedTimeStamp>
        <xsdLocal:LastUpdatedBy>
          <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:LastUpdatedBy"/>
        </xsdLocal:LastUpdatedBy>
        <xsdLocal:Contact>
          <xsdLocal:WorkPhoneNumber>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:WorkPhoneNumber"/>
          </xsdLocal:WorkPhoneNumber>
          <xsl:choose>
            <xsl:when test='(/tns:TRUSTOutboundContact/tns:ConRequest/tns:SourceSystem = "TRUST") and (/tns:TRUSTOutboundContact/tns:ConRequest/tns:VIPFlag = "true")'>
              <xsdLocal:VIPFlag>
                <xsl:text disable-output-escaping="no">Y</xsl:text>
              </xsdLocal:VIPFlag>
            </xsl:when>
            <xsl:when test='(/tns:TRUSTOutboundContact/tns:ConRequest/tns:SourceSystem = "TRUST") and (/tns:TRUSTOutboundContact/tns:ConRequest/tns:VIPFlag = "false")'>
              <xsdLocal:VIPFlag>
                <xsl:text disable-output-escaping="no">N</xsl:text>
              </xsdLocal:VIPFlag>
            </xsl:when>
            <xsl:otherwise>
              <xsdLocal:VIPFlag>
                <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:VIPFlag"/>
              </xsdLocal:VIPFlag>
            </xsl:otherwise>
          </xsl:choose>
          <xsdLocal:RCRMStatus>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:Status"/>
          </xsdLocal:RCRMStatus>
          <xsdLocal:RCRMSegGrpEndUserActivity>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:EndUserActivity"/>
          </xsdLocal:RCRMSegGrpEndUserActivity>
          <xsdLocal:RCRMSFDCContactId>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:SFDCId"/>
          </xsdLocal:RCRMSFDCContactId>
          <xsdLocal:RCRMPreferredLanguage>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:Language"/>
          </xsdLocal:RCRMPreferredLanguage>
          <xsdLocal:RCRMLocalSalutation>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:LocalSalutation"/>
          </xsdLocal:RCRMLocalSalutation>
          <xsdLocal:RCRMLocalLastName>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:LocalLastName"/>
          </xsdLocal:RCRMLocalLastName>
          <xsdLocal:RCRMLocalFirstName>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:LocalFirstName"/>
          </xsdLocal:RCRMLocalFirstName>
          <xsdLocal:RCRMLegalConsent>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:LegalConsent"/>
          </xsdLocal:RCRMLegalConsent>
          <xsdLocal:RCRMFTLFlagSetDate>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:FTLDate"/>
          </xsdLocal:RCRMFTLFlagSetDate>
          <xsl:choose>
            <xsl:when test='(/tns:TRUSTOutboundContact/tns:ConRequest/tns:SourceSystem = "TRUST") and (/tns:TRUSTOutboundContact/tns:ConRequest/tns:FTLFlag = "true")'>
              <xsdLocal:RCRMFTLCompleteFlag>
                <xsl:text disable-output-escaping="no">Y</xsl:text>
              </xsdLocal:RCRMFTLCompleteFlag>
            </xsl:when>
            <xsl:when test='(/tns:TRUSTOutboundContact/tns:ConRequest/tns:SourceSystem = "TRUST") and (/tns:TRUSTOutboundContact/tns:ConRequest/tns:FTLFlag = "false")'>
              <xsdLocal:RCRMFTLCompleteFlag>
                <xsl:text disable-output-escaping="no">N</xsl:text>
              </xsdLocal:RCRMFTLCompleteFlag>
            </xsl:when>
            <xsl:otherwise>
              <xsdLocal:RCRMFTLCompleteFlag>
                <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:FTLFlag"/>
              </xsdLocal:RCRMFTLCompleteFlag>
            </xsl:otherwise>
          </xsl:choose>
          <xsdLocal:RCRMDirectMarketing>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:DirectMarketing"/>
          </xsdLocal:RCRMDirectMarketing>
          <xsdLocal:RCRMDepartment>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:Department"/>
          </xsdLocal:RCRMDepartment>
          <xsdLocal:RCRMContactUniqueNumber>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:ContactUniqueNumber"/>
          </xsdLocal:RCRMContactUniqueNumber>
          <xsdLocal:RCRMContactFloor>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:Floor"/>
          </xsdLocal:RCRMContactFloor>
          <xsdLocal:PriamaryAccountNumber>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:PrimaryAccountANumber"/>
          </xsdLocal:PriamaryAccountNumber>
          <xsdLocal:MM>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:Salutation"/>
          </xsdLocal:MM>
          <xsdLocal:LastName>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:LastName"/>
          </xsdLocal:LastName>
          <xsdLocal:JobTitle>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:JobTitle"/>
          </xsdLocal:JobTitle>
          <xsdLocal:FirstName>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:FirstName"/>
          </xsdLocal:FirstName>
          <xsdLocal:Fax>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:FaxNumber"/>
          </xsdLocal:Fax>
          <xsdLocal:EmailAddress>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:EmailAddress"/>
          </xsdLocal:EmailAddress>
          <xsdLocal:ComplianceJobRole>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:ComplianceJobRole"/>
          </xsdLocal:ComplianceJobRole>
          <xsdLocal:CellPhoneNumber>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:MobileNumber"/>
          </xsdLocal:CellPhoneNumber>
          <xsdLocal:BuySellCorpSide>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:BuySellCorpSide"/>
          </xsdLocal:BuySellCorpSide>
          <xsdLocal:Assetfocus3>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:AssetFocus3"/>
          </xsdLocal:Assetfocus3>
          <xsdLocal:Assetfocus2>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:AssetFocus2"/>
          </xsdLocal:Assetfocus2>
          <xsdLocal:Assetfocus1>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:AssetFocus1"/>
          </xsdLocal:Assetfocus1>
          <xsdLocal:ActionCode>
            <xsl:value-of select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:ActionCode"/>
          </xsdLocal:ActionCode>
          <xsl:for-each select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:ContactAccountData">
            <xsdLocal:ContactAccountAsso>
              <xsdLocal:RCRMAccountNumber>
                <xsl:value-of select="tns:AccountANumber"/>
              </xsdLocal:RCRMAccountNumber>
              <xsl:choose>
                <xsl:when test='(../tns:SourceSystem = "TRUST") and (tns:PrimaryFlag = "true")'>
                  <xsdLocal:PriamaryAccountFlag>
                    <xsl:text disable-output-escaping="no">Y</xsl:text>
                  </xsdLocal:PriamaryAccountFlag>
                </xsl:when>
                <xsl:when test='(../tns:SourceSystem = "TRUST") and (tns:PrimaryFlag = "false")'>
                  <xsdLocal:PriamaryAccountFlag>
                    <xsl:text disable-output-escaping="no">N</xsl:text>
                  </xsdLocal:PriamaryAccountFlag>
                </xsl:when>
                <xsl:otherwise>
                  <xsdLocal:PriamaryAccountFlag>
                    <xsl:value-of select="tns:PrimaryFlag"/>
                  </xsdLocal:PriamaryAccountFlag>
                </xsl:otherwise>
              </xsl:choose>
              <xsdLocal:ActionCode>
                <xsl:value-of select="tns:ActionCode"/>
              </xsdLocal:ActionCode>
            </xsdLocal:ContactAccountAsso>
          </xsl:for-each>
          <xsl:for-each select="/tns:TRUSTOutboundContact/tns:ConRequest/tns:ContactFunctionData">
            <xsdLocal:ContactFunctionAsso>
              <xsdLocal:RCRMAccountNumber>
                <xsl:value-of select="tns:AccountANumber"/>
              </xsdLocal:RCRMAccountNumber>
              <xsdLocal:PrimaryFucntionFlag>
                <xsl:value-of select="tns:PrimaryFlag"/>
              </xsdLocal:PrimaryFucntionFlag>
              <xsdLocal:Name>
                <xsl:value-of select="tns:FunctionValue"/>
              </xsdLocal:Name>
              <xsdLocal:ActionCode>
                <xsl:value-of select="tns:ActionCode"/>
              </xsdLocal:ActionCode>
            </xsdLocal:ContactFunctionAsso>
          </xsl:for-each>
        </xsdLocal:Contact>
      </xsdLocal:ContactHeader>
    </xsdLocal:ListOfGenContactInterface>
  </xsl:template>
</xsl:stylesheet>
