<?xml version = '1.0' encoding = 'UTF-8'?>
<?oracle-xsl-mapper <!-- SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY. -->
  <mapSources>
    <source type="XSD">
      <schema location="EAI.MSG.CCRM.OP.226_PublishOpportunityRequestResponse.xsd"/>
      <rootElement name="RCRMOpportunityPublish" namespace="http://www.siebel.com/xml/RCRM%20Opportunity%20Inbound"/>
    </source>
  </mapSources>
  <mapTargets>
    <target type="XSD">
      <schema location="EAI.MSG.CCRM.OP.226_PublishOpportunityRequestResponse.xsd"/>
      <rootElement name="RCRMOpportunityPublish" namespace="http://www.siebel.com/xml/RCRM%20Opportunity%20Inbound"/>
    </target>
  </mapTargets>
  <!-- GENERATED BY ORACLE XSL MAPPER 10.1.3.3.0(build 070615.0525) AT [MON SEP 27 14:54:15 GMT+05:30 2010]. -->
?>
<xsl:stylesheet version="1.0" xmlns:xref="http://www.oracle.com/XSL/Transform/java/oracle.tip.xref.xpath.XRefXPathFunctions" xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20" xmlns:bpws="http://schemas.xmlsoap.org/ws/2003/03/business-process/" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:xsdLocal="http://www.siebel.com/xml/RCRM%20Opportunity%20Inbound" xmlns:ora="http://schemas.oracle.com/xpath/extension" xmlns:ehdr="http://www.oracle.com/XSL/Transform/java/oracle.tip.esb.server.headers.ESBHeaderFunctions" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:orcl="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc" xmlns:ids="http://xmlns.oracle.com/bpel/services/IdentityService/xpath" xmlns:hwf="http://xmlns.oracle.com/bpel/workflow/xpath" exclude-result-prefixes="xsl xsdLocal xsd xref xp20 bpws ora ehdr orcl ids hwf" xmlns:dvm="http://www.oracle.com/XSL/Transform/java/oracle.tip.dvm.LookupValue">
  <xsl:template match="/">
    <xsdLocal:RCRMOpportunityPublish>
      <xsl:attribute name="MessageId">
        <xsl:value-of select="orcl:generate-guid()"/>
      </xsl:attribute>
      <xsl:attribute name="IntObjectName">
        <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/@IntObjectName"/>
      </xsl:attribute>
      <xsl:attribute name="IntObjectFormat">
        <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/@IntObjectFormat"/>
      </xsl:attribute>
      <xsdLocal:Timestamp>
        <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Timestamp"/>
      </xsdLocal:Timestamp>
      <xsdLocal:TargetSystem>
        <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:TargetSystem"/>
      </xsdLocal:TargetSystem>
      <xsdLocal:SourceSystem>
        <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:SourceSystem"/>
      </xsdLocal:SourceSystem>
      <xsdLocal:MessageType>
        <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:MessageType"/>
      </xsdLocal:MessageType>
      <xsdLocal:ActionCode>
        <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:ActionCode"/>
      </xsdLocal:ActionCode>
      <xsdLocal:Opportunity>
        <xsdLocal:OptyNumber>
          <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:OptyNumber"/>
        </xsdLocal:OptyNumber>
        <xsdLocal:ActiveQuote>
          <xsl:value-of select="dvm:lookupValue(&quot;oramds:/apps/EAIMetaData/dvm/CCRMTRUST_OptyPublishMap.dvm&quot;,&quot;TRUSTValue&quot;,/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:ActiveQuote,&quot;CCRMValue&quot;,&quot;N&quot;)"/>
        </xsdLocal:ActiveQuote>
        <xsl:for-each select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:OpportunityPosition">
          <xsdLocal:OpportunityPosition>
            <xsdLocal:SFDCId>
              <xsl:value-of select="xsdLocal:SFDCId"/>
            </xsdLocal:SFDCId>
            <xsdLocal:RCRMPrimaryRecurringRevenue>
              <xsl:value-of select="xsdLocal:RCRMPrimaryRecurringRevenue"/>
            </xsdLocal:RCRMPrimaryRecurringRevenue>
            <xsdLocal:RCRMPrimaryOnceOffRevenue>
              <xsl:value-of select="xsdLocal:RCRMPrimaryOnceOffRevenue"/>
            </xsdLocal:RCRMPrimaryOnceOffRevenue>
            <xsdLocal:OpportunityId>
              <xsl:value-of select="xsdLocal:OpportunityId"/>
            </xsdLocal:OpportunityId>
            <xsdLocal:EmailAddress>
              <xsl:value-of select="xsdLocal:EmailAddress"/>
            </xsdLocal:EmailAddress>
          </xsdLocal:OpportunityPosition>
        </xsl:for-each>
        <xsdLocal:Updated>
          <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:Updated"/>
        </xsdLocal:Updated>
        <xsl:for-each select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:OpportunityProduct">
          <xsdLocal:OpportunityProduct>
            <xsdLocal:RCRMRevenueType>
              <xsl:value-of select="xsdLocal:RCRMRevenueType"/>
            </xsdLocal:RCRMRevenueType>
            <xsdLocal:RCRMFreeTrialFlag>
              <xsl:value-of select="xsdLocal:RCRMFreeTrialFlag"/>
            </xsdLocal:RCRMFreeTrialFlag>
            <xsdLocal:ProductQuantity>
              <xsl:value-of select="xsdLocal:ProductQuantity"/>
            </xsdLocal:ProductQuantity>
            <xsdLocal:ProductPrice>
              <xsl:value-of select="xsdLocal:ProductPrice"/>
            </xsdLocal:ProductPrice>
            <xsdLocal:ProductId>
              <xsl:value-of select="xsdLocal:ProductId"/>
            </xsdLocal:ProductId>
            <xsdLocal:Product>
              <xsl:value-of select="xsdLocal:Product"/>
            </xsdLocal:Product>
            <xsdLocal:OpptyId>
              <xsl:value-of select="xsdLocal:OpptyId"/>
            </xsdLocal:OpptyId>
            <xsdLocal:ExtendedPrice>
              <xsl:value-of select="xsdLocal:ExtendedPrice"/>
            </xsdLocal:ExtendedPrice>
            <xsdLocal:CurrencyCode>
              <xsl:value-of select="xsdLocal:CurrencyCode"/>
            </xsdLocal:CurrencyCode>
            <xsdLocal:Comment>
              <xsl:value-of select="xsdLocal:Comment"/>
            </xsdLocal:Comment>
            <xsl:choose>
              <xsl:when test="string-length(xsdLocal:RCRMInstallAccId) > 0.0">
                <xsdLocal:RCRMInstallAccId>
                  <xsl:value-of select="xref:lookupXRef(&quot;oramds:/apps/EAIMetaData/Xref/CRM_SFDC_ACCTXREF.xref&quot;,&quot;SFDCID&quot;,xsdLocal:RCRMInstallAccId,&quot;SIEBELID&quot;,false())"/>
                </xsdLocal:RCRMInstallAccId>
              </xsl:when>
              <xsl:otherwise>
                <xsdLocal:RCRMInstallAccId>
                  <xsl:value-of select="xsdLocal:RCRMInstallAccId"/>
                </xsdLocal:RCRMInstallAccId>
              </xsl:otherwise>
            </xsl:choose>
            <xsdLocal:RCRMRevenueMasterflag>
              <xsl:value-of select="xsdLocal:RCRMRevenueMasterflag"/>
            </xsdLocal:RCRMRevenueMasterflag>
          </xsdLocal:OpportunityProduct>
        </xsl:for-each>
        <xsl:for-each select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:Campaign">
          <xsdLocal:Campaign>
            <xsdLocal:SourceCode>
              <xsl:value-of select="xsdLocal:SourceCode"/>
            </xsdLocal:SourceCode>
          </xsdLocal:Campaign>
        </xsl:for-each>
        <xsdLocal:OpportunityNotes>
          <xsdLocal:Note2>
            <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:OpportunityNotes/xsdLocal:Note2"/>
          </xsdLocal:Note2>
          <xsdLocal:Note1>
            <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:OpportunityNotes/xsdLocal:Note1"/>
          </xsdLocal:Note1>
        </xsdLocal:OpportunityNotes>
        <xsdLocal:ReasonWonLost>
          <xsl:value-of select="dvm:lookupValue(&quot;oramds:/apps/EAIMetaData/dvm/SFDCOP_WinLossReasonMap.dvm&quot;,&quot;SFDC&quot;,/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:ReasonWonLost,&quot;Siebel&quot;,/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:ReasonWonLost)"/>
        </xsdLocal:ReasonWonLost>
        <xsdLocal:RCRMSFDCOpptyId>
          <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:RCRMSFDCOpptyId"/>
        </xsdLocal:RCRMSFDCOpptyId>
        <xsdLocal:RCRMSFDCAccountId>
          <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:RCRMSFDCAccountId"/>
        </xsdLocal:RCRMSFDCAccountId>
        <xsdLocal:RCRMOpportunityType>
          <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:RCRMOpportunityType"/>
        </xsdLocal:RCRMOpportunityType>
        <xsdLocal:OnceOffRevenue>
          <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:OnceOffRevenue"/>
        </xsdLocal:OnceOffRevenue>
        <xsdLocal:RCRMFTSumTotalPriceRecurring>
          <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:RCRMFTSumTotalPriceRecurring"/>
        </xsdLocal:RCRMFTSumTotalPriceRecurring>
        <xsdLocal:RCRMFTSumTotalPriceOnce-Off>
          <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:RCRMFTSumTotalPriceOnce-Off"/>
        </xsdLocal:RCRMFTSumTotalPriceOnce-Off>
        <xsdLocal:RCRMBillDate>
          <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:RCRMBillDate"/>
        </xsdLocal:RCRMBillDate>
        <xsdLocal:AccountMgrEmailAddress>
          <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:AccountMgrEmailAddress"/>
        </xsdLocal:AccountMgrEmailAddress>
        <xsdLocal:RecurringRevenue>
          <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:RecurringRevenue"/>
        </xsdLocal:RecurringRevenue>
        <xsdLocal:PositionCloseDate>
          <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:PositionCloseDate"/>
        </xsdLocal:PositionCloseDate>
        <xsdLocal:LastUpdatedBy>
          <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:LastUpdatedBy"/>
        </xsdLocal:LastUpdatedBy>
        <xsdLocal:AccountId>
          <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:AccountId"/>
        </xsdLocal:AccountId>
        <xsl:choose>
          <xsl:when test="string-length(/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:Id) > 0.0">
            <xsdLocal:Id>
              <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:Id"/>
            </xsdLocal:Id>
          </xsl:when>
          <xsl:otherwise>
            <xsdLocal:Id>
              <xsl:value-of select="string(&quot;&quot;)"/>
            </xsdLocal:Id>
          </xsl:otherwise>
        </xsl:choose>
        <xsdLocal:Account>
          <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:Account"/>
        </xsdLocal:Account>
        <xsdLocal:CurrencyCode>
          <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:CurrencyCode"/>
        </xsdLocal:CurrencyCode>
        <xsdLocal:Name>
          <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:Name"/>
        </xsdLocal:Name>
        <xsdLocal:RCRMUtahBlockedOpportunity>
          <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:RCRMUtahBlockedOpportunity"/>
        </xsdLocal:RCRMUtahBlockedOpportunity>
        <xsdLocal:PrimaryRevenueWinProbability>
          <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:PrimaryRevenueWinProbability"/>
        </xsdLocal:PrimaryRevenueWinProbability>
        <xsdLocal:SalesStage>
          <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:SalesStage"/>
        </xsdLocal:SalesStage>
        <xsdLocal:RCRMPurchaseOrder>
          <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:RCRMPurchaseOrder"/>
        </xsdLocal:RCRMPurchaseOrder>
        <xsdLocal:RCRMPurchaseOrderStatus>
          <xsl:value-of select="/xsdLocal:RCRMOpportunityPublish/xsdLocal:Opportunity/xsdLocal:RCRMPurchaseOrderStatus"/>
        </xsdLocal:RCRMPurchaseOrderStatus>
      </xsdLocal:Opportunity>
    </xsdLocal:RCRMOpportunityPublish>
  </xsl:template>
</xsl:stylesheet>
