<?xml version = '1.0' encoding = 'UTF-8'?>
<?oracle-xsl-mapper <!-- SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY. -->
  <mapSources>
    <source type="XSD">
      <schema location="StandaloneProductReferenceDataUpdate.xsd"/>
      <rootElement name="productDefinitionUpdate" namespace="http://www.reuters.com/ns/2007/09/01/GCAP/CPFG/PRD/CPFGPRD_ProductUpdateFormatter"/>
    </source>
  </mapSources>
  <mapTargets>
    <target type="XSD">
      <schema location="http://ukcq-eai05:7777/orabpel/ccrmasync/CPFGPRD_FTPtoCPFG/EAI.MSG.EXT.130_ProductReferenceDataUpdate.xsd"/>
      <rootElement name="productReferenceDataUpdate" namespace="http://www.reuters.com/ns/2008/05/16/AAA/ESB/SBO/GCAP/ProductManagementServices"/>
    </target>
  </mapTargets>
  <!-- GENERATED BY ORACLE XSL MAPPER 10.1.3.3.0(build 070615.0525) AT [TUE JUN 23 22:29:34 BST 2009]. -->
?>
<xsl:stylesheet version="1.0"
                xmlns:gcap-pt="http://www.reuters.com/ns/2008/05/16/AAA/ESB/SBO/GCAP/CommonProductTypes"
                xmlns:bpws="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                xmlns:local="http://www.reuters.com/ns/2007/09/01/GCAP/CPFG/PRD/CPFGPRD_ProductUpdateFormatter"
                xmlns:ehdr="http://www.oracle.com/XSL/Transform/java/oracle.tip.esb.server.headers.ESBHeaderFunctions"
                xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                xmlns:ns0="http://www.reuters.com/ns/2008/05/16/AAA/ESB/SBO/GCAP/ProductManagementServices"
                xmlns:gcap-mt="http://www.reuters.com/ns/2008/05/16/AAA/ESB/SBO/GCAP/CommonMessageTypes"
                xmlns:hwf="http://xmlns.oracle.com/bpel/workflow/xpath"
                xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20"
                xmlns:xref="http://www.oracle.com/XSL/Transform/java/oracle.tip.xref.xpath.XRefXPathFunctions"
                xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                xmlns:gcap-sa="http://www.reuters.com/ns/2008/05/16/AAA/ESB/SBO/GCAP/SchemaAnnotations"
                xmlns:ora="http://schemas.oracle.com/xpath/extension"
                xmlns:ids="http://xmlns.oracle.com/bpel/services/IdentityService/xpath"
                xmlns:orcl="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc"
                xmlns:dvm="http://www.oracle.com/XSL/Transform/java/oracle.tip.dvm.LookupValue"
                exclude-result-prefixes="xsl local xsd gcap-pt ns0 gcap-mt gcap-sa dvm bpws ehdr hwf xp20 xref ora ids orcl">
  <xsl:template match="/">
    <ns0:productReferenceDataUpdate>
      <eaiHeader>
        <gcap-mt:applicationId>
          <xsl:value-of select="/local:productDefinitionUpdate/applicationId"/>
        </gcap-mt:applicationId>
        <gcap-mt:transactionId>
          <xsl:value-of select="/local:productDefinitionUpdate/transactionId"/>
        </gcap-mt:transactionId>
        <gcap-mt:messageId>
          <xsl:value-of select="/local:productDefinitionUpdate/messageId"/>
        </gcap-mt:messageId>
        <gcap-mt:messageHistory>
          <xsl:value-of select="/local:productDefinitionUpdate/messageHistory"/>
        </gcap-mt:messageHistory>
        <gcap-mt:tracingId>
          <xsl:value-of select="/local:productDefinitionUpdate/tracingId"/>
        </gcap-mt:tracingId>
        <gcap-mt:timeStamp>
          <xsl:value-of select="/local:productDefinitionUpdate/timeStamp"/>
        </gcap-mt:timeStamp>
        <gcap-mt:instanceId>
          <xsl:value-of select="/local:productDefinitionUpdate/instanceId"/>
        </gcap-mt:instanceId>
        <gcap-mt:timeToLive>
          <xsl:value-of select="/local:productDefinitionUpdate/timeToLive"/>
        </gcap-mt:timeToLive>
        <gcap-mt:payloadVersion>
          <xsl:value-of select="/local:productDefinitionUpdate/payloadVersion"/>
        </gcap-mt:payloadVersion>
      </eaiHeader>
      <productDefinitionUpdate>
        <productID>
          <xsl:value-of select="/local:productDefinitionUpdate/productID"/>
        </productID>
        <actionCode>
          <xsl:attribute name="code">
            <xsl:value-of select="/local:productDefinitionUpdate/actionCode"/>
          </xsl:attribute>
        </actionCode>
        <productName>
          <xsl:value-of select="/local:productDefinitionUpdate/productName"/>
        </productName>
        <productDescription>
          <xsl:value-of select="/local:productDefinitionUpdate/productDescription"/>
        </productDescription>
        <definitionVersion>
          <xsl:value-of select="/local:productDefinitionUpdate/definitionVersion"/>
        </definitionVersion>
        <productStatus>
          <xsl:value-of select="/local:productDefinitionUpdate/productStatus"/>
        </productStatus>
        <freeTrialAllowed>
          <xsl:value-of select="/local:productDefinitionUpdate/freeTrialAllowed"/>
        </freeTrialAllowed>
        <productType>
          <xsl:value-of select="/local:productDefinitionUpdate/productType"/>
        </productType>
        <productConfigurationList>
          <xsl:for-each select="/local:productDefinitionUpdate/productConfiguration">
            <productConfiguration>
              <configurationID>
                <xsl:value-of select="position()"/>
              </configurationID>
              <description>
                <xsl:value-of select="description"/>
              </description>
              <GlobalPLI>
                <xsl:value-of select="globalPLI"/>
              </GlobalPLI>
              <attributeList>
                <xsl:for-each select="attribute">
                  <attribute>
                    <xsl:attribute name="attributeID">
                      <xsl:value-of select="@attributeID"/>
                    </xsl:attribute>
                    <xsl:attribute name="valueID">
                      <xsl:value-of select="@valueID"/>
                    </xsl:attribute>
                  </attribute>
                </xsl:for-each>
              </attributeList>
            </productConfiguration>
          </xsl:for-each>
        </productConfigurationList>
        <addOns>
          <xsl:for-each select="/local:productDefinitionUpdate/addOns/addOn">
            <addOn>
              <xsl:attribute name="productID">
                <xsl:value-of select="@productID"/>
              </xsl:attribute>
            </addOn>
          </xsl:for-each>
        </addOns>
        <attributeDefinitionList>
          <xsl:for-each select="/local:productDefinitionUpdate/attributeDefinitionList/attributeDefinition">
            <attributeDefinition>
              <attributeID>
                <xsl:value-of select="attributeID"/>
              </attributeID>
              <attributeName>
                <xsl:value-of select="attributeName"/>
              </attributeName>
              <freeTextAllowed>
                <xsl:value-of select="freeTextAllowed"/>
              </freeTextAllowed>
              <allowedValueList>
                <xsl:for-each select="allowedValue">
                  <allowedAttributeValue>
                    <xsl:attribute name="valueID">
                      <xsl:value-of select="valueID"/>
                    </xsl:attribute>
                    <xsl:attribute name="valueName">
                      <xsl:value-of select="valueName"/>
                    </xsl:attribute>
                  </allowedAttributeValue>
                </xsl:for-each>
              </allowedValueList>
            </attributeDefinition>
          </xsl:for-each>
        </attributeDefinitionList>
      </productDefinitionUpdate>
    </ns0:productReferenceDataUpdate>
  </xsl:template>
</xsl:stylesheet>
